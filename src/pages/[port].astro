---
import Layout from '../layouts/Layout.astro';
import Button from '../components/Button.astro';

import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const ports = await getCollection('port');
  return ports.map((port) => {
    return {
      params: { port: port.slug },
      props: { port }
    };
  });
}
const { port } = Astro.props;
const { Content } = await port.render();
---

<Layout title="Welcome to Astro.">
  <h1>{port.data.title}</h1>
  <Content/>
  {
    port.data.assets &&
      port.data.assets.map((asset:string) => {
        return (
          <div>
            <p class="m-auto w-fit rounded-t-lg bg-darker-purple p-4 text-light-purple">{asset}</p>
            <Button href={`/ports/${port.slug}/assets/${asset}`} icon="tabler:download">
              Download
            </Button>
          </div>
        );
      })
    }
</Layout>
